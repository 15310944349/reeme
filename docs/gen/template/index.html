<!DOCTYPE html>
<html>
	<head>
		<title>手册</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="keywords" content="CrossADK,cui,Lua,CrossApp,Lua Developing App">
  		<meta name="description" content="Coding.net 是一个面向开发者的云端开发平台,提供 git代码托管，免费的运行演示空间，代码质量分析，在线Web IDE，项目管理，开发协作，悬赏众包，冒泡社交等功能。 为开发者提供技术讨论和开发，协作工具， Coding 极速的代码体验，让开发更简单。">
  		
  		<link rel="stylesheet" href="css/index.css" type="text/css">
  		<link rel="stylesheet" href="css/zTreeStyle.css" type="text/css">
		<link rel="stylesheet" href="css/codemirror.css" type="text/css">
		<link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">

  		<script type="text/javascript" src="js/jquery-1.4.4.min.js"></script>
  		<script type="text/javascript" src="js/jquery.ztree.core.min.js"></script>
		<script type="text/javascript" src="js/jquery-ui.min.js"></script>
		<script type="text/javascript" src="js/codemirror.min.js"></script>
		<script type="text/javascript" src="js/codemirror.lua.js"></script>
		<script type="text/javascript" src="js/clipboard.min.js"></script>
		<script type="text/javascript">
		var zNodes = [
			{{ mainmCodes }}
		];

		var setting = {
			data: {
				simpleData: {
					enable: true
				}
			}
		};

		$(document).ready(function() {
			$.fn.zTree.init($("#tree"), setting, zNodes);
			$(".fun_top").click(function(){
				var node = $(this).next();
				var status = $(node).css('display');
				$(node).slideToggle('slow');
			});
			
			var codes = $('textarea');
			for(var i = 0; i < codes.length; ++ i) {
				var cm = CodeMirror.fromTextArea(codes[i], {
					lineNumbers: true, matchBrackets: true, mode: "lua"
				});
				$(codes[i]).data('cm', cm);
			}
			
			new Clipboard('.copy_samples_code', {
				text: function(trigger, a, b) {
					window.setTimeout(function() { alert('代码已经复制到剪贴板'); }, 100);
					var txt = $(trigger.parentNode.parentNode).find('textarea:first');
					var cm = $(txt).data('cm');
					return cm.getDoc().getValue();
				}
			});
			
			$('#allfuncnames').change(function() {
				var name = $(this).val();
				window.location.href = '#' + name;
				
				var funcDiv = $('a[name=' + name + ']').parent().parent().parent();
				funcDiv.effect( 'highlight', {}, 1500 );
			});

			var highlight = function(href) {
				var pos = href.lastIndexOf('#');
				if (pos > 0) {
					var name = href.substr(pos + 1);
					var funcDiv = $('a[name=' + name + ']').parent();
					if (funcDiv[0].nodeName.toLowerCase() != 'li')
						funcDiv = funcDiv.parent().parent();
					funcDiv.effect( 'highlight', {}, 1500 );
				}
			};
			
			highlight(window.location.href);
			$('.innerlink').click(function() {
				highlight($(this).attr('href'));
			});
		});
		</script>
  	</head>
	<body>
		<div id="top">
			<div id="top-menu">
				<a class="logo clearfix" href="" target="_self">
		            <img src="logo/logo.png"/>
		        </a>

		        <ul class="nav">
		        	<a href="javascript:void(0);">功能</a>
		        	<a href="/upgrade" target="_self">价格</a>
		        	<a href="/pp" target="_self">冒泡</a>
		        	<a href="https://blog.coding.net" target="_self">博客</a>
		        	<a href="/help" target="_self">帮助</a>
		        </ul>

				<div class="login-zone">
					<div class="btns">
						<input type="button" border="0" value="登录" />
						<input type="button" border="0" value="注册" />
		            </div>
		            <div class="btns" style="display: none;">
						<input type="button" border="0" value="登录" />
						<input type="button" border="0" value="注册" />
		            </div>
				</div>
			</div>
		</div>
		
		<div id="content">
			<!--左边树-->
			<div id="lefttree">
				<div class="title" id="lefttitle">帮助中心</div>
				<div id="tree" class="ztree"></div>
			</div>

			<!--右边内容-->
			<div id="rightcotent">
				<div class="title"></div>
				<div class="content" class="clearfix">
					<div id="contenttitle">{{ modname }}</div>
					
					{% if doc then }}
					<div id="docdetail">
						{% for i = 1, #doc.segments do }}
							{% if doc.samples[i] == true then }}
							<textarea>{{ doc.segments[i] }}</textarea>
							{% else }}
							<p>{{ parseTextHtml(doc.segments[i]) }}</p>
							{% end }}
						{% end }}
					</div>
					{% end }}

					{% if mod then }}
					
					{% if #mod.statics > 0 then }}
					<p>
						<strong><font style="font-size:24px;">所有常量值</font></strong>						
						<ul class="statics_describ">
						{% for i = 1, #mod.statics do local st = mod.statics[i] }}
							<li><a name="{{ st.name }}"></a>{{ string.format('<strong>%s</strong> <font style="font-size:12px" color="#3366FF">[%s]</font>', st.name, st.type ~= nil and AllTypes[st.type] or '') }}：{{ st.text }}</li>
						{% end }}
						</ul>
					</p>
					{% end }}
					
					{% if #mod.properties > 0 then }}
					<p>
						<strong><font style="font-size:24px;">所有属性</font></strong>						
						<ul class="statics_describ">
						{% for i = 1, #mod.properties do local prop = mod.properties[i] }}
							<li><a name="{{ prop.name }}"></a>{{ string.format('<strong>%s</strong> <font style="font-size:12px" color="#3366FF">[%s]</font>', prop.name, AllTypes[prop.ability]) }}：{{ prop.text }}</li>
						{% end }}
						</ul>
					</p>
					{% end }}

					<div id="detail">
						<p align="right" style="padding-right:20px;">
							<select id="allfuncnames">
							{% for i = 1, #mod.funcs do local func = mod.funcs[i] }}
								<option>{{ func.name }}</option>
							{% end }}
							</select>
						</p>					
						
						{% for i = 1, #mod.funcs do local func = mod.funcs[i] }}
						<div class="fun_describ">
							<div class="fun_top">
								<div class="fun_plus"><img src="logo/plus_16px.png" /></div>
								<div class="fun_title">{{ func.title }} <font style="font-weight:normal;">[{{ echoFuncStatics(func) }}]</font><a name="{{ func.name }}" class="innerjump"></a><font style="font-style:italic">{{ echoFuncDecls(func) }}</font></div>
							</div>
							<div class="fun_det">
								{% for pi,param in pairs(func.params) do }}
								<div class="pretitle">参数{{ pi }}：{{ param.name }}，变量类型：{{ param.type }}</div>
								<div class="precontent">{{ param.desc }}</div>
								{% end }}
								{% for ri,ret in pairs(func.returns) do }}
								<div class="pretitle">返回值{{ ri }}的变量类型：{{ ret.type }}</div>
								<div class="precontent">{{ ret.desc }}</div>
								{% end }}
								{% if #func.desc > 0 then }}
								<div class="pretitle">本函数完整说明：</div>
								<div class="precontent" style="text-indent:24px;">{{ parseTextHtml(func.desc) }}</div>
								{% end }}
								{% if func.samples then }}
								<div class="pretitle">示例代码：<a href="javascript:" class="copy_samples_code"><img src="./logo/copy.png" title="点击复制下面的代码到剪贴板" /></a></div>
								<div class="precontent">
									<textarea>{{ func.samples }}</textarea>
								</div>
								{% end }}
							</div>
						</div>					
						{% end }}
					</div>
					{% end }}
				</div>
			</div>

		</div>

		<!--<div id="footer"></div>-->
	</body>
</html>